(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[55],{1114:function(e,t,n){"use strict";n.r(t);var c=n(31),a=n(8),r=n(89),i=n(295),o=n(296),s=n(517),j=n(135),l=n(259),b=n(134),d=n(334),u=n(545),O=n(474),h=n(475),f=n(472),x=n.n(f),m=n(473),g=n.n(m),p=n(0),v=n(213),y=n(312),w=n(303),A=n(48),k=n(329),N=n(345),C=n(366),S=n(297),_=n(307),I=n(342),T=n(1),P=function(e){var t=e.data;return t?Object(T.jsx)(p.Fragment,{children:Object(T.jsxs)(N.a,{style:{cursor:"pointer"},children:[Object(T.jsx)(C.a,{children:Object(T.jsx)(I.a,{honorId:t.id,type:"mission_reward"})}),Object(T.jsx)(C.a,{children:Object(T.jsx)(o.a,{container:!0,direction:"column",spacing:1,children:Object(T.jsx)(o.a,{item:!0,children:Object(T.jsx)(_.b,{contentKey:"honor_name:".concat(t.name),original:t.name,originalProps:{variant:"subtitle1"},translatedProps:{variant:"subtitle1"}})})})})]})}):Object(T.jsxs)(N.a,{children:[Object(T.jsx)(S.a,{variant:"rect"}),Object(T.jsxs)(C.a,{children:[Object(T.jsx)(r.a,{variant:"subtitle1",children:Object(T.jsx)(S.a,{variant:"text",width:"90%"})}),Object(T.jsx)(r.a,{variant:"body2",children:Object(T.jsx)(S.a,{variant:"text",width:"40%"})})]})]})},E=n(362),B=n(367),R=n(282),Q=function(e){var t=e.open,n=e.onClose,c=e.data,i=Object(v.a)().t,s=Object(A.g)("honors"),j=Object(a.a)(s,1)[0],l=Object(A.g)("honorGroups"),b=Object(a.a)(l,1)[0],d=Object(p.useState)(),u=Object(a.a)(d,2),O=u[0],h=u[1];return Object(p.useEffect)((function(){if(j&&j.length&&b&&b.length&&c){var e=b.find((function(e){return e.id===c.groupId}));h(e)}}),[j,b,c]),O&&c?Object(T.jsx)(E.a,{open:t,onClose:n,fullWidth:!0,children:Object(T.jsxs)(B.a,{children:[Object(T.jsx)(o.a,{container:!0,spacing:2,children:Object(T.jsx)(o.a,{item:!0,container:!0,justify:"center",children:Object(T.jsx)(I.a,{honorId:c.id,type:"mission_reward"})})}),Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("common:id")}),Object(T.jsx)(r.a,{children:c.id})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}}),Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("common:title")}),Object(T.jsx)(_.b,{contentKey:"honor_name:".concat(c.name),original:c.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}}),Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("honor:honor_group")}),Object(T.jsx)(_.b,{contentKey:"honorGroup_name:".concat(O.id),original:O.name,originalProps:{align:"right"},translatedProps:{align:"right"}})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}}),Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("common:rarity")}),Object(T.jsx)(r.a,{children:i("honor:rarity.".concat(c.honorRarity))})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}}),c.levels.map((function(e){return Object(T.jsxs)(p.Fragment,{children:[Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("common:level")}),Object(T.jsx)(r.a,{children:e.level})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}}),Object(T.jsxs)(o.a,{container:!0,direction:"row",wrap:"nowrap",justify:"space-between",alignItems:"center",children:[Object(T.jsx)(o.a,{item:!0,xs:3,md:2,children:Object(T.jsx)(r.a,{variant:"subtitle1",style:{fontWeight:600},children:i("common:description")})}),Object(T.jsx)(o.a,{item:!0,xs:8,md:9,children:Object(T.jsx)(r.a,{align:"right",children:e.description})})]}),Object(T.jsx)(R.a,{style:{margin:"1% 0"}})]})}))]})}):null},M={grid:P};t.default=function(){var e=Object(w.a)(),t=Object(y.a)(),n=Object(v.a)().t,f=Object(A.g)("honors"),m=Object(a.a)(f,1)[0],N=Object(A.g)("honorGroups"),C=Object(a.a)(N,1)[0],S=Object(p.useState)([]),_=Object(a.a)(S,2),I=_[0],P=_[1],E=Object(p.useState)(!1),B=Object(a.a)(E,2),R=B[0],L=B[1],z=Object(p.useState)(),D=Object(a.a)(z,2),V=D[0],J=D[1],K=Object(p.useState)(!1),G=Object(a.a)(K,2),W=G[0],Z=G[1],F=Object(p.useState)("grid"),U=Object(a.a)(F,1)[0],Y=Object(p.useState)(1),q=Object(a.a)(Y,2),X=q[0],H=q[1],$=Object(p.useState)(12),ee=Object(a.a)($,1)[0],te=Object(p.useState)(!0),ne=Object(a.a)(te,2),ce=ne[0],ae=ne[1],re=Object(p.useState)(!1),ie=Object(a.a)(re,2),oe=ie[0],se=ie[1],je=Object(p.useState)(!1),le=Object(a.a)(je,2),be=le[0],de=le[1],ue=Object(A.h)("honor-list-filter-type",""),Oe=Object(a.a)(ue,2),he=Oe[0],fe=Oe[1],xe=Object(p.useState)([]),me=Object(a.a)(xe,2),ge=me[0],pe=me[1];Object(p.useLayoutEffect)((function(){document.title=n("title:honorList")}),[n]),Object(p.useEffect)((function(){if(m&&m.length&&C&&C.length){var e=Object(c.a)(m);if(he){var t=C.filter((function(e){return e.honorType===he})).map((function(e){return e.id}));e=e.filter((function(e){return t.includes(e.groupId)}))}if(W){var n=Array.from(new Set(e.map((function(e){return e.groupId}))));e=n.map((function(t){return e.find((function(e){return e.groupId===t}))}))}pe(e),P([]),H(0)}}),[H,m,he,C,W]),Object(p.useLayoutEffect)((function(){P((function(e){return[].concat(Object(c.a)(e),Object(c.a)(function(e,t,n){return e.slice(n*(t-1),n*t)}(ge,X,ee)))})),ae(!0)}),[X,ee,ae,ge]),Object(p.useLayoutEffect)((function(){se(Boolean(m&&m.length))}),[m,se]);var ve=Object(p.useCallback)((function(e,t){oe&&(e[0].isIntersecting&&ce&&(!ge.length||ge.length>X*ee)?(ae(!1),H((function(e){return e+1}))):ge.length&&ge.length<=X*ee&&t(!1))}),[ge.length,oe,ce,ee,X]);return oe&&C&&C.length?Object(T.jsxs)(p.Fragment,{children:[Object(T.jsx)(r.a,{variant:"h6",className:e.header,children:n("honor:page_title")}),Object(T.jsxs)(i.a,{className:e.content,children:[Object(T.jsx)(o.a,{container:!0,justify:"flex-end",style:{marginBottom:"0.5rem"},children:Object(T.jsx)(s.a,{color:"secondary",variant:"dot",invisible:!he,children:Object(T.jsxs)(j.a,{variant:"outlined",onClick:function(){return de((function(e){return!e}))},children:[be?Object(T.jsx)(x.a,{}):Object(T.jsx)(g.a,{}),be?Object(T.jsx)(O.a,{}):Object(T.jsx)(h.a,{})]})})}),Object(T.jsx)(l.a,{in:be,children:Object(T.jsx)(b.a,{className:t.container,children:Object(T.jsxs)(o.a,{container:!0,direction:"column",spacing:1,children:[Object(T.jsxs)(o.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",spacing:1,children:[Object(T.jsx)(o.a,{item:!0,xs:12,md:2,children:Object(T.jsx)(r.a,{classes:{root:t.caption},children:n("filter:honorType.caption")})}),Object(T.jsx)(o.a,{item:!0,xs:12,md:10,children:Object(T.jsxs)(o.a,{container:!0,spacing:1,children:[Object(T.jsx)(o.a,{item:!0,children:Object(T.jsx)(d.a,{clickable:!0,color:""===he?"primary":"default",label:n("filter:not_set"),onClick:function(){fe("")}})}),Array.from(new Set(C.map((function(e){return e.honorType})))).map((function(e){return Object(T.jsx)(o.a,{item:!0,children:Object(T.jsx)(d.a,{clickable:!0,color:he===e?"primary":"default",label:n("honor:type.".concat(e)),onClick:function(){fe(he===e?"":e)}})},e)}))]})})]}),Object(T.jsxs)(o.a,{item:!0,container:!0,xs:12,alignItems:"center",justify:"space-between",spacing:1,children:[Object(T.jsx)(o.a,{item:!0,xs:12,md:2,children:Object(T.jsx)(r.a,{classes:{root:t.caption},children:n("filter:honorType.group_only_once")})}),Object(T.jsx)(o.a,{item:!0,xs:12,md:10,children:Object(T.jsx)(o.a,{container:!0,spacing:1,children:Object(T.jsx)(o.a,{item:!0,children:Object(T.jsx)(u.a,{checked:W,onChange:function(){return Z((function(e){return!e}))}})})})})]})]})})}),Object(T.jsx)(k.a,{ViewComponent:M[U],data:I,callback:ve,gridSize:{grid:{xs:12,sm:6,md:4,lg:3}}[U],onComponentClick:function(e){J(e),L(!0)}})]}),Object(T.jsx)(Q,{open:R,onClose:function(){return L(!1)},data:V})]}):Object(T.jsx)("div",{children:"Loading..."})}},307:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return O}));var c=n(8),a=n(24),r=n(89),i=n(296),o=n(0),s=n(37),j=n(48),l=n(49),b=n(1),d=function(e){var t=e.contentKey,n=e.original,c=e.originalProps,j=e.translatedProps,d=e.assetTOptions,u=Object(o.useContext)(s.a).contentTransMode,O=Object(l.b)().assetT;switch(u){case"original":return Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({},c),{},{children:n}));case"translated":return Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({},j),{},{color:"textPrimary",children:O(t,n,d)}));case"both":return Object(b.jsxs)(i.a,{container:!0,direction:"column",children:[Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({},c),{},{color:"textPrimary",children:n})),Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({},j),{},{color:"textSecondary",children:O(t,n,d)}))]})}},u=function(e){var t=e.characterId,n=e.originalProps,d=e.translatedProps,u=e.assetTOptions,O=Object(o.useContext)(s.a).contentTransMode,h=Object(j.g)("gameCharacters"),f=Object(c.a)(h,1)[0],x=Object(l.b)(),m=x.assetT,g=x.assetI18n,p=Object(o.useState)(),v=Object(c.a)(p,2),y=v[0],w=v[1];if(Object(o.useEffect)((function(){f&&w(f.find((function(e){return e.id===t})))}),[f,t]),!y)return Object(b.jsx)(r.a,{});switch(O){case"original":return Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({},n),{},{color:"textPrimary",children:[y.firstName," ",y.givenName]}));case"translated":return["zh-CN","zh-TW","ko","ja"].includes(g.language)?Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({},d),{},{color:"textPrimary",children:[y.firstName?m("character_name:".concat(t,".firstName"),y.firstName,u):""," ",m("character_name:".concat(t,".givenName"),y.givenName,u)]})):Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({},d),{},{color:"textPrimary",children:[m("character_name:".concat(t,".givenName"),y.givenName,u)," ",y.firstName?m("character_name:".concat(t,".firstName"),y.firstName,u):""]}));case"both":return Object(b.jsxs)(i.a,{container:!0,direction:"column",children:[Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({},n),{},{children:[y.firstName," ",y.givenName]})),["zh-CN","zh-TW","ko","ja"].includes(g.language)?Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({color:"textSecondary"},d),{},{children:[y.firstName?m("character_name:".concat(t,".firstName"),y.firstName,u):""," ",m("character_name:".concat(t,".givenName"),y.givenName,u)]})):Object(b.jsxs)(r.a,Object(a.a)(Object(a.a)({color:"textSecondary"},d),{},{children:[m("character_name:".concat(t,".givenName"),y.givenName,u)," ",y.firstName?m("character_name:".concat(t,".firstName"),y.firstName,u):""]}))]})}},O=function(e){var t=e.releaseCondId,n=e.originalProps,a=e.translatedProps,r=e.assetTOptions,i=Object(j.g)("releaseConditions"),s=Object(c.a)(i,1)[0],l=Object(o.useState)(),u=Object(c.a)(l,2),O=u[0],h=u[1];if(Object(o.useEffect)((function(){s&&h(s.find((function(e){return e.id===t})))}),[t,s]),O){var f="";switch(O.releaseConditionType){case"none":f="release_cond:none_".concat(O.id);break;case"card_level":f="release_cond:card_level",r=Object.assign({},r,{level:O.releaseConditionTypeLevel});break;case"unit_rank":f="release_cond:unit_rank_".concat(O.releaseConditionTypeId),r=Object.assign({},r,{rank:O.releaseConditionTypeLevel});break;case"event_point":f="release_cond:event_point",r=Object.assign({},r,{point:O.releaseConditionTypeQuantity});break;default:f="release_cond:".concat(O.releaseConditionType)}return Object(b.jsx)(d,{contentKey:f,original:O.sentence,originalProps:n,translatedProps:a,assetTOptions:r})}return Object(b.jsx)("div",{})}},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var c=n(7),a=n(234),r=Object(a.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(c.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(c.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecorationAlsoOnHover:{textDecoration:"none","&:hover":{textDecoration:"none"},color:"inherit"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:"inherit"},pointer:{cursor:"pointer"}}}))},318:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(234),a=Object(c.a)((function(){return{svg:{display:"block",width:"100%",height:"100%",pointerEvents:"visibleStroke"},skeleton:{width:"100%",paddingTop:"100%"}}}))},329:function(e,t,n){"use strict";var c=n(8),a=n(24),r=n(18),i=n(260),o=n(296),s=n(0),j=n(1),l=["xs","sm","md","lg","xl"],b={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,n=e.callback,d=e.data,u=e.gridSize,O=e.viewProps,h=e.onComponentClick,f=function(e){var t=Object(a.a)({},e||b);return l.forEach((function(e,n,c){t[e]||(t[e]=n>0?t[c[n-1]]:12)})),t}(u),x=function(){var e=Object(r.a)();return l.map((function(t){return Object(i.a)(e.breakpoints.down(t))&&t})).find(Boolean)||l[l.length-1]}(),m=Object(s.useState)(!0),g=Object(c.a)(m,2),p=g[0],v=g[1],y=Object(s.useCallback)((function(e){return n(e,v)}),[n]),w=Object(s.useRef)(null);Object(s.useEffect)((function(){v(!0)}),[d]),Object(s.useEffect)((function(){var e=new IntersectionObserver(y,{threshold:.5}),t=w.current;return t&&e.observe(t),function(){t&&e.disconnect()}}),[y]);var A=12/f[x],k=d.length?A:2*A;return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(o.a,{container:!0,direction:"row",spacing:1,children:d.length?d.map((function(e,n){return Object(j.jsx)(o.a,{item:!0,xs:f.xs,sm:f.sm,md:f.md,lg:f.lg,xl:f.xl,onClick:function(){h&&h(e)},children:Object(j.jsx)(t,Object(a.a)({data:e,index:n},O))},e.id)})):null}),Object(j.jsx)(o.a,{container:!0,direction:"row",ref:w,style:{display:p?"flex":"none",paddingTop:"4px"},spacing:1,children:Array.from({length:k}).map((function(e,n){return Object(j.jsx)(o.a,{item:!0,xs:f.xs,sm:f.sm,md:f.md,lg:f.lg,xl:f.xl,children:Object(j.jsx)(t,{})},"empty-".concat(n))}))})]})}},342:function(e,t,n){"use strict";var c=n(8),a=n(297),r=n(0),i=n(318),o=n(48),s=n(310),j=n(1);t.a=function(e){var t=e.resourceBoxId,n=e.type,l=e.honorId,b=e.style,d=e.honorLevel,u=Object(i.a)(),O=Object(o.n)(),h=Object(c.a)(O,1)[0],f=Object(o.g)("resourceBoxes"),x=Object(c.a)(f,1)[0],m=Object(o.g)("honors"),g=Object(c.a)(m,1)[0],p=Object(o.g)("honorGroups"),v=Object(c.a)(p,1)[0],y=Object(r.useState)(),w=Object(c.a)(y,2),A=w[0],k=w[1],N=Object(r.useState)(),C=Object(c.a)(N,2),S=C[0],_=C[1],I=Object(r.useState)(d),T=Object(c.a)(I,2),P=T[0],E=T[1],B=Object(r.useState)(""),R=Object(c.a)(B,2),Q=R[0],M=R[1],L=Object(r.useState)(""),z=Object(c.a)(L,2),D=z[0],V=z[1];return Object(r.useEffect)((function(){var e;x&&g&&(t&&(e=x.find((function(e){return e.resourceBoxPurpose===n&&e.id===t})).details.find((function(e){return"honor"===e.resourceType}))),k(g.find((function(n){return t&&e?n.id===e.resourceId:!!l&&n.id===l}))),e&&E(e.resourceLevel))}),[g,x,t,n,l]),Object(r.useEffect)((function(){A&&v&&_(v.find((function(e){return e.id===A.groupId})))}),[A,v]),Object(r.useEffect)((function(){return A&&(S&&S.backgroundAssetbundleName?Object(o.c)("honor/".concat(S.backgroundAssetbundleName,"_rip/degree_main.webp"),M,window.isChinaMainland?"cn":"ww",h):Object(o.c)("honor/".concat(A.assetbundleName,"_rip/degree_main.webp"),M,window.isChinaMainland?"cn":"ww",h),("event_ranking_reward"===n||A.name.startsWith("TOP")||A.name.includes("\u4f4d"))&&Object(o.c)("honor/".concat(A.assetbundleName,"_rip/rank_main.webp"),V,window.isChinaMainland?"cn":"ww",h)),function(){V("")}}),[A,S,h,n]),void 0===A?null:A?Object(j.jsx)("div",{className:u.svg,children:Object(j.jsxs)("svg",{style:b,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 380 80",children:[Object(j.jsx)("image",{href:Q,x:"0",y:"0",height:"80",width:"380"}),Object(j.jsx)("image",{href:s.i[A.honorRarity],x:"0",y:"0",height:"80",width:"380"}),!!P&&A.levels.length>1&&Array.from({length:P}).map((function(e,t){return Object(j.jsx)("image",{href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHGSURBVDhPjZDLSyphGMbnD2kRrVr2J7Q+u4g2qXXSKHNmvJxFp0iwqHQaU6pjkBWJHYk4QRNBN4QiWkQuCrpg0EVyhOhCERGcVk/fO45lZtkDP3jhe5/f9/FxhampGS4jamsDgXz049LJKyMfk6k/qq98HbvbrebYVlUQNPO/vKUlPO+NFpZzkOBLCZXNgidTrEzMZpKfS3Jlb0jBuKI8fCYoKqmvl6uMRv9eZ/805hI7OAOwhXvM4BRhHL4ShKrRvbqKjtBfuFxBtLZ6qrkmSzDV3j11P7YQR+IpXVIwkDlAz+a6JhAEaYUzNfiTVvvooxSex9r5EeIX15i/TSPyfPxOEPif0gTyTRJSel8T2O3+E44938dQnR0TCEQXEZ5hhW3G3VuZoBIJ3LMKnM7BRxJYrX3NXGOjr9xgkBWDwZ9iItRd/IP5dhGu5zh+Y+MV38kuehNbaPdNwOEYvOR5KdLS4qnUPpJiNMo/NYHEBEtMcPVRQLcSojiwodfex2yWJ0VxhC0wlmMQsZyFzTwf0rDZ/kzq68VjsfTFNIEUhhiLZGHzt8q5CMJISOwazUoINn+7TGlrC1bYbEM/SETQrB8VhONeAJtF3wvQnBoAAAAAAElFTkSuQmCC",x:54+16*t,y:"64",height:"16",width:"16"},t)})),D&&Object(j.jsx)("image",{href:D,x:"190",y:"0",width:"150",height:"78"})]})}):Object(j.jsx)(a.a,{variant:"rect",width:"256",height:"64"})}}}]);