(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[53],{1125:function(e,t,n){"use strict";n.r(t);var a=n(9),c=n.n(a),i=n(25),r=n(31),o=n(8),s=n(89),u=n(295),l=n(0),j=n(213),d=n(37),b=n(303),O=n(309),f=n(329),m=n(732),g=n.n(m),x=n(41),h=n(312),p=n(345),v=n(366),w=n(296),y=n(297),k=n(1),C=function(e){var t=e.data,n=Object(h.a)(),a=Object(j.a)().t;return t?Object(k.jsx)(l.Fragment,{children:Object(k.jsx)(x.b,{to:"/announcement/".concat(t.id),className:n.noDecoration,children:Object(k.jsxs)(p.a,{children:[Object(k.jsxs)(v.a,{children:[Object(k.jsxs)(s.a,{variant:"h5",children:[t.isPin&&Object(k.jsx)(g.a,{fontSize:"inherit"})," ",t.title]}),Object(k.jsx)(s.a,{children:t.description})]}),Object(k.jsx)(v.a,{children:Object(k.jsxs)(w.a,{container:!0,spacing:1,alignItems:"center",children:[Object(k.jsx)(w.a,{item:!0,children:Object(k.jsxs)(s.a,{variant:"subtitle2",color:"textSecondary",children:[a("announcement:category"),":"," ",a("announcement:categoryName.".concat(t.category))]})}),Object(k.jsx)(w.a,{item:!0,children:Object(k.jsxs)(s.a,{variant:"subtitle2",color:"textSecondary",children:[a("announcement:published_at"),":"," ",new Date(t.created_at).toLocaleString()]})})]})})]})})}):Object(k.jsx)(p.a,{children:Object(k.jsxs)(v.a,{children:[Object(k.jsx)(s.a,{variant:"h5",children:Object(k.jsx)(y.a,{variant:"text",width:"50%"})}),Object(k.jsx)(s.a,{children:Object(k.jsx)(y.a,{variant:"text",width:"90%"})}),Object(k.jsx)(s.a,{variant:"subtitle2",children:Object(k.jsx)(y.a,{variant:"text",width:"80%"})})]})})};t.default=function(){var e=Object(b.a)(),t=Object(j.a)().t,n=Object(l.useContext)(d.c).usermeta,a=Object(l.useContext)(d.a),m=a.languages,g=a.lang,x=Object(O.f)(),h=x.getAnnouncementByLanguagesPage,p=x.getAnnouncementByLanguagesCount,v=Object(l.useState)([]),w=Object(o.a)(v,2),y=w[0],S=w[1],N=Object(l.useState)(0),V=Object(o.a)(N,2),D=V[0],E=V[1],H=Object(l.useState)(!1),L=Object(o.a)(H,2),M=L[0],B=L[1],_=Object(l.useState)(!1),z=Object(o.a)(_,2),A=z[0],R=z[1],P=Object(l.useState)(0),F=Object(o.a)(P,2),I=F[0],T=F[1],W=Object(l.useState)(30),J=Object(o.a)(W,1)[0],Z=Object(l.useMemo)((function(){var e=1;if(m.length){var t=m.find((function(e){return e.code===g}))||m.find((function(e){return e.code===g.split("-")[0]}));t&&(e=t.id)}return e}),[g,m]),q=Object(l.useMemo)((function(){return n?[Z].concat(Object(r.a)(null===n||void 0===n?void 0:n.languages.map((function(e){return e.id})))):[Z]}),[Z,n]);Object(l.useLayoutEffect)((function(){document.title=t("title:announcementList")}),[t]),Object(l.useEffect)((function(){p(q).then((function(e){E(e),B(!0)}))}),[p,q]),Object(l.useEffect)((function(){Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(J,I,q);case 2:t=e.sent,S((function(e){return[].concat(Object(r.a)(e),Object(r.a)(t))})),R(!0);case 5:case"end":return e.stop()}}),e)})))()}),[h,g,m,J,I,q,n]);var G=Object(l.useCallback)((function(e,t){M&&(e[0].isIntersecting&&A&&(!D||D>I*J)?(T((function(e){return e+1})),R(!1)):D&&D<=I*J&&t(!1))}),[M,A,J,I,D]);return Object(k.jsxs)(l.Fragment,{children:[Object(k.jsx)(s.a,{variant:"h6",className:e.header,children:t("common:announcement")}),Object(k.jsx)(u.a,{className:e.content,children:Object(k.jsx)(f.a,{ViewComponent:C,callback:G,data:y,gridSize:{xs:12}})})]})}},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(234),c=Object(a.a)((function(e){return{header:{fontWeight:"bold"},content:{marginTop:e.spacing(3),marginBottom:e.spacing(3),marginLeft:"auto",marginRight:"auto"},alert:{margin:e.spacing(1,0)},bold:{fontWeight:e.typography.fontWeightBold},capitalize:{textTransform:"capitalize"},tabpanel:{padding:e.spacing("1%",0,0,0)},"grid-out":{padding:e.spacing("1%","0")}}}))},312:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(7),c=n(234),i=Object(c.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(a.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(a.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)}),inputHidden:{display:"none"},noDecorationAlsoOnHover:{textDecoration:"none","&:hover":{textDecoration:"none"},color:"inherit"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:"inherit"},pointer:{cursor:"pointer"}}}))},329:function(e,t,n){"use strict";var a=n(8),c=n(24),i=n(18),r=n(260),o=n(296),s=n(0),u=n(1),l=["xs","sm","md","lg","xl"],j={xs:12,md:4};t.a=function(e){var t=e.ViewComponent,n=e.callback,d=e.data,b=e.gridSize,O=e.viewProps,f=e.onComponentClick,m=function(e){var t=Object(c.a)({},e||j);return l.forEach((function(e,n,a){t[e]||(t[e]=n>0?t[a[n-1]]:12)})),t}(b),g=function(){var e=Object(i.a)();return l.map((function(t){return Object(r.a)(e.breakpoints.down(t))&&t})).find(Boolean)||l[l.length-1]}(),x=Object(s.useState)(!0),h=Object(a.a)(x,2),p=h[0],v=h[1],w=Object(s.useCallback)((function(e){return n(e,v)}),[n]),y=Object(s.useRef)(null);Object(s.useEffect)((function(){v(!0)}),[d]),Object(s.useEffect)((function(){var e=new IntersectionObserver(w,{threshold:.5}),t=y.current;return t&&e.observe(t),function(){t&&e.disconnect()}}),[w]);var k=12/m[g],C=d.length?k:2*k;return Object(u.jsxs)(s.Fragment,{children:[Object(u.jsx)(o.a,{container:!0,direction:"row",spacing:1,children:d.length?d.map((function(e,n){return Object(u.jsx)(o.a,{item:!0,xs:m.xs,sm:m.sm,md:m.md,lg:m.lg,xl:m.xl,onClick:function(){f&&f(e)},children:Object(u.jsx)(t,Object(c.a)({data:e,index:n},O))},e.id)})):null}),Object(u.jsx)(o.a,{container:!0,direction:"row",ref:y,style:{display:p?"flex":"none",paddingTop:"4px"},spacing:1,children:Array.from({length:C}).map((function(e,n){return Object(u.jsx)(o.a,{item:!0,xs:m.xs,sm:m.sm,md:m.md,lg:m.lg,xl:m.xl,children:Object(u.jsx)(t,{})},"empty-".concat(n))}))})]})}},345:function(e,t,n){"use strict";var a=n(2),c=n(3),i=n(0),r=(n(4),n(5)),o=n(134),s=n(6),u=i.forwardRef((function(e,t){var n=e.classes,s=e.className,u=e.raised,l=void 0!==u&&u,j=Object(c.a)(e,["classes","className","raised"]);return i.createElement(o.a,Object(a.a)({className:Object(r.a)(n.root,s),elevation:l?8:1,ref:t},j))}));t.a=Object(s.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(u)},366:function(e,t,n){"use strict";var a=n(2),c=n(3),i=n(0),r=(n(4),n(5)),o=n(6),s=i.forwardRef((function(e,t){var n=e.classes,o=e.className,s=e.component,u=void 0===s?"div":s,l=Object(c.a)(e,["classes","className","component"]);return i.createElement(u,Object(a.a)({className:Object(r.a)(n.root,o),ref:t},l))}));t.a=Object(o.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},732:function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=(0,((a=n(59))&&a.__esModule?a:{default:a}).default)("M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z");t.default=c}}]);