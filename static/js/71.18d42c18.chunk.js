(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[71],{1102:function(e,t,a){"use strict";a.r(t);var r=a(8),c=a(0),n=a(513),i=a(1);t.default=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),a=t[0],l=t[1],o=Object(c.useState)([]),s=Object(r.a)(o,2),d=s[0],u=s[1],j=Object(c.useState)(0),m=Object(r.a)(j,2),b=m[0],O=m[1];return Object(i.jsx)(n.a,{teamCards:a,teamCardsStates:d,teamTotalPower:b,setTeamCards:l,setTeamCardsStates:u,setTeamTotalPower:O})}},338:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return n})),a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return s})),a.d(t,"g",(function(){return d}));var r=a(31);function c(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem(t.storeName,JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem(t.storeName,JSON.stringify(c)),c;case"reset":return localStorage.setItem(t.storeName,JSON.stringify([])),[];default:throw new Error}}function n(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem(t.storeName,JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem(t.storeName,JSON.stringify(c)),c;case"reset":return localStorage.setItem(t.storeName,JSON.stringify([])),[];default:throw new Error}}function i(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem(t.storeName,JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem(t.storeName,JSON.stringify(c)),c;case"reset":return localStorage.setItem(t.storeName,JSON.stringify([])),[];default:throw new Error}}function l(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem(t.storeName,JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem(t.storeName,JSON.stringify(c)),c;case"reset":return localStorage.setItem(t.storeName,JSON.stringify([])),[];default:throw new Error}}function o(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem("card-list-filter-skills",JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem("card-list-filter-skills",JSON.stringify(c)),c;case"reset":return localStorage.setItem("card-list-filter-skills",JSON.stringify([])),[];default:throw new Error}}function s(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e),[t.payload]);return localStorage.setItem(t.storeName,JSON.stringify(a)),a;case"remove":var c=[].concat(Object(r.a)(e.slice(0,e.indexOf(t.payload))),Object(r.a)(e.slice(e.indexOf(t.payload)+1)));return localStorage.setItem(t.storeName,JSON.stringify(c)),c;case"reset":return localStorage.setItem(t.storeName,JSON.stringify([])),[];default:throw new Error}}function d(e,t){switch(t.type){case"add":var a=[].concat(Object(r.a)(e.teams),[t.payload]);return"local"===e.storageLocation&&localStorage.setItem(e.localKey,JSON.stringify(a)),Object.assign({},e,{teams:a});case"remove":var c=[].concat(Object(r.a)(e.teams.slice(0,t.payload)),Object(r.a)(e.teams.slice(t.payload+1)));return"local"===e.storageLocation&&localStorage.setItem(e.localKey,JSON.stringify(c)),Object.assign({},e,{teams:c});case"replace":var n=[].concat(Object(r.a)(e.teams.slice(0,t.payload.id)),[t.payload.data],Object(r.a)(e.teams.slice(t.payload.id+1)));return"local"===e.storageLocation&&localStorage.setItem(e.localKey,JSON.stringify(n)),Object.assign({},e,{teams:n});case"reload":return Object.assign({},e,{storageLocation:t.payload.location,teams:t.payload.teams});default:throw new Error}}},513:function(e,t,a){"use strict";var r=a(31),c=a(8),n=a(7),i=a(234),l=a(296),o=a(135),s=a(519),d=a(615),u=a(545),j=a(362),m=a(391),b=a(367),O=a(614),f=a(490),h=a(1105),p=a(294),x=a(455),g=a(461),y=a(503),v=a(541),k=a(134),S=a(89),C=a(466),I=a(316),_=a(216),w=a(295),N=a(0),T=a(213),P=a(37),R=a(48),L=a(337),U=a(332),J=a(333),B=a(338),E=a(309),M=a(49),A=a(310),W=a(1),D=Object(i.a)((function(e){var t;return{"rarity-star-img":{maxWidth:"16px",margin:e.spacing(0,.25)},"dialog-paper":(t={padding:e.spacing(1)},Object(n.a)(t,e.breakpoints.up("sm"),{minWidth:"500px"}),Object(n.a)(t,e.breakpoints.up("md"),{minWidth:"700px"}),Object(n.a)(t,e.breakpoints.up("lg"),{minWidth:"900px"}),t)}}));t.a=function(e){var t=e.teamCards,a=e.teamCardsStates,i=e.teamTotalPower,K=e.setTeamCards,z=e.setTeamCardsStates,F=e.setTeamTotalPower,H=D(),G=Object(T.a)().t,q=Object(M.c)(),Q=Object(N.useContext)(P.c),V=Q.jwtToken,X=Q.sekaiProfile,Y=Q.updateSekaiProfile,Z=Object(E.f)(V),$=Z.putSekaiDeckList,ee=Z.deleteSekaiDeckList,te=Object(R.f)(),ae=te.showError,re=te.showSuccess,ce=Object(R.o)(),ne=Object(R.g)("cards"),ie=Object(c.a)(ne,1)[0],le=Object(R.g)("gameCharacters"),oe=Object(c.a)(le,1)[0],se=Object(R.g)("skills"),de=Object(c.a)(se,1)[0],ue=function(){var e=Object(R.g)("cards"),t=Object(c.a)(e,1)[0],a=Object(R.g)("cardEpisodes"),r=Object(c.a)(a,1)[0],n=Object(R.g)("areaItemLevels"),i=Object(c.a)(n,1)[0],l=Object(R.g)("gameCharacters"),o=Object(c.a)(l,1)[0],s=Object(R.g)("characterRanks"),d=Object(c.a)(s,1)[0],u=Object(R.g)("honors"),j=Object(c.a)(u,1)[0],m=Object(N.useMemo)((function(){return[0,50,100,150,200]}),[]),b=Object(N.useCallback)((function(e,t){if(r&&m){var a=e.map((function(e,a){return t[a].cardParameters.filter((function(t){return t.cardLevel===e.level})).sort((function(e,t){return e.cardParameterType>t.cardParameterType?1:e.cardParameterType<t.cardParameterType?-1:0})).map((function(e){return e.power}))})),c=e.map((function(e,a){var r=t[a];return e.trained?r.specialTrainingPower1BonusFixed:0})),n=e.map((function(e,a){var c=t[a],n=r.filter((function(e){return e.cardId===c.id}));return Number(e.story1Unlock)*n[0].power1BonusFixed+Number(e.story2Unlock)*n[1].power1BonusFixed})),i=e.map((function(e,a){var r=t[a];return m[r.rarity]*e.masterRank}));return a.map((function(e,t){return e.map((function(e){return e+c[t]+n[t]+i[t]}))}))}}),[r,m]);return{getAreaItemBonus:Object(N.useCallback)((function(e,a){if(!t||!i||!o)return-1;var r=e.map((function(e){return e.cardId})).map((function(e){return t.find((function(t){return t.id===e}))})).map((function(e){return Object.assign({},e,{unit:o.find((function(t){return t.id===e.characterId})).unit})})),c=b(e,r);if(!c)return-1;var n=a.map((function(e){return i.find((function(t){return t.areaItemId===e.areaItemId&&t.level===e.level}))})),l=r.map((function(e){return e.characterId})).map((function(e){return n.filter((function(t){return t.targetGameCharacterId===e}))})).map((function(e){return Number(e.reduce((function(e,t){return e+t.power1BonusRate}),0).toPrecision(3))})),s=r.map((function(e){return e.attr})),d=1===Array.from(new Set(s)).length,u=s.map((function(e){return n.filter((function(t){return t.targetCardAttr===e}))})).map((function(e){return Number(e.reduce((function(e,t){return e+t[d?"power1AllMatchBonusRate":"power1BonusRate"]}),0).toPrecision(3))})),j=r.map((function(e){return"piapro"===e.unit?e.supportUnit:e.unit})),m=5===r.length&&1===Array.from(new Set(j)).length,O=j.map((function(e){return n.filter((function(t){return t.targetUnit===e}))})).map((function(e){return Number(e.reduce((function(e,t){return e+t[m?"power1AllMatchBonusRate":"power1BonusRate"]}),0).toPrecision(3))})),f=r.map((function(e,t){return t})).filter((function(e){return"none"!==r[e].supportUnit})),h=5===r.filter((function(e){return"piapro"===e.unit})).length,p=n.filter((function(e){return"piapro"===e.targetUnit})),x=Number(p.reduce((function(e,t){return e+t[h?"power1AllMatchBonusRate":"power1BonusRate"]}),0).toPrecision(3));return f.forEach((function(e){O[e]=Math.max(O[e],x)})),r.map((function(e,t){return l[t]+u[t]+O[t]})).reduce((function(e,t,a){return e+Math.floor(c[a][0]*t/100)+Math.floor(c[a][1]*t/100)+Math.floor(c[a][2]*t/100)}),0)}),[i,t,o,b]),getCharacterRankBonus:Object(N.useCallback)((function(e,a){if(!d||!t||!o)return-1;var r=a.map((function(e){return e.cardId})).map((function(e){return t.find((function(t){return t.id===e})).characterId})).map((function(t){return e.find((function(e){return e.characterId===t}))})),c=a.map((function(e){return e.cardId})).map((function(e){return t.find((function(t){return t.id===e}))})).map((function(e){return Object.assign({},e,{unit:o.find((function(t){return t.id===e.characterId})).unit})})),n=b(a,c);return n?r.reduce((function(e,t,a){return e+Math.floor(Math.round(100*d.find((function(e){return e.characterId===t.characterId&&e.characterRank===t.characterRank})).power1BonusRate)/1e4*n[a][0])+Math.floor(Math.round(100*d.find((function(e){return e.characterId===t.characterId&&e.characterRank===t.characterRank})).power2BonusRate)/1e4*n[a][1])+Math.floor(Math.round(100*d.find((function(e){return e.characterId===t.characterId&&e.characterRank===t.characterRank})).power3BonusRate)/1e4*n[a][2])}),0):-1}),[t,d,o,b]),getHonorBonus:Object(N.useCallback)((function(e){return j?e.reduce((function(e,t){return e+j.find((function(e){return e.id===t.honorId})).levels.find((function(e){return e.level===t.level})).bonus}),0):-1}),[j]),getPureTeamPowers:Object(N.useCallback)((function(e){if(!d||!t||!o)return-1;var a=e.map((function(e){return e.cardId})).map((function(e){return t.find((function(t){return t.id===e}))})).map((function(e){return Object.assign({},e,{unit:o.find((function(t){return t.id===e.characterId})).unit})})),r=b(e,a);return r?r.reduce((function(e,t){return e+t.reduce((function(e,t){return e+t}),0)}),0):-1}),[t,d,o,b])}}(),je=ue.getAreaItemBonus,me=ue.getCharacterRankBonus,be=ue.getHonorBonus,Oe=ue.getPureTeamPowers,fe=Object(N.useState)(0),he=Object(c.a)(fe,2),pe=he[0],xe=he[1],ge=Object(N.useState)(0),ye=Object(c.a)(ge,2),ve=ye[0],ke=ye[1],Se=Object(N.useState)("all"),Ce=Object(c.a)(Se,2),Ie=Ce[0],_e=Ce[1],we=Object(N.useState)([]),Ne=Object(c.a)(we,2),Te=Ne[0],Pe=Ne[1],Re=Object(N.useState)(!1),Le=Object(c.a)(Re,2),Ue=Le[0],Je=Le[1],Be=Object(N.useState)(!1),Ee=Object(c.a)(Be,2),Me=Ee[0],Ae=Ee[1],We=Object(N.useState)(!1),De=Object(c.a)(We,2),Ke=De[0],ze=De[1],Fe=Object(N.useState)(),He=Object(c.a)(Fe,2),Ge=He[0],qe=He[1],Qe=Object(R.h)("team-build-use-sekai-card-state",!1),Ve=Object(c.a)(Qe,2),Xe=Ve[0],Ye=Ve[1],Ze=Object(N.useState)("local"),$e=Object(c.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(R.p)(!1),rt=Object(c.a)(at,2),ct=rt[0],nt=rt[1],it=Object(R.p)(!!(null===X||void 0===X?void 0:X.sekaiUserProfile)),lt=Object(c.a)(it,2),ot=lt[0],st=lt[1],dt=Object(N.useState)("any"),ut=Object(c.a)(dt,2),jt=ut[0],mt=ut[1],bt=Object(N.useReducer)(B.g,{teams:JSON.parse(localStorage.getItem("team-build-array")||"[]"),localKey:"team-build-array",storageLocation:"local"}),Ot=Object(c.a)(bt,2),ft=Ot[0],ht=Ot[1];Object(N.useEffect)((function(){ht({type:"reload",payload:{location:et,teams:"local"===et?JSON.parse(localStorage.getItem("team-build-array")||"[]"):(null===X||void 0===X?void 0:X.deckList)||[]}})}),[null===X||void 0===X?void 0:X.deckList,et]);var pt=Object(N.useState)(null),xt=Object(c.a)(pt,2),gt=xt[0],yt=xt[1],vt=Object(N.useMemo)((function(){return Boolean(gt)}),[gt]),kt=Object(N.useCallback)((function(){if(ie&&ie.length&&de&&de.length){var e=de.filter((function(e){return"perfect_score_up"===jt?"perfect"===e.skillEffects[0].activateNotesJudgmentType:"life_score_up"===jt?"score_up_condition_life"===e.skillEffects[0].skillEffectType:e.descriptionSpriteName===jt})).map((function(e){return e.id}));Pe(ie.filter((function(t){return(!(ve>0)||t.rarity===ve)&&("all"===Ie||t.attr===Ie)&&(!e.length||e.includes(t.skillId))&&(!pe||t.characterId===pe)})))}}),[Ie,ie,pe,ve,jt,de]),St=Object(N.useCallback)((function(e){var a;if(t.some((function(t){return t===e.id}))){var c=t.indexOf(e.id);return K((function(e){return[].concat(Object(r.a)(e.slice(0,c)),Object(r.a)(e.slice(c+1)))})),void z((function(e){return[].concat(Object(r.a)(e.slice(0,c)),Object(r.a)(e.slice(c+1)))}))}if(5!==t.length){var n=[0,20,30,50,60];K((function(t){return[].concat(Object(r.a)(t),[e.id])}));var i=null===X||void 0===X||null===(a=X.cardList)||void 0===a?void 0:a.find((function(t){return t.cardId===e.id}));z((function(t){return[].concat(Object(r.a)(t),[Xe&&i?i:{cardId:e.id,skillLevel:1,masterRank:0,level:n[e.rarity],trained:"rarity_birthday"!==e.cardRarityType&&e.rarity>=3,trainable:"rarity_birthday"!==e.cardRarityType&&e.rarity>=3,story1Unlock:!0,story2Unlock:!0}])}))}else ae(G("music_recommend:buildTeam.cardMaxError"))}),[t,K,null===X||void 0===X?void 0:X.cardList,z,ae,G,Xe]),Ct=Object(N.useCallback)((function(e,t){yt(e.currentTarget),qe(t)}),[]),It=Object(N.useCallback)((function(){yt(null),qe(void 0)}),[]),_t=Object(N.useCallback)((function(e,a){if(Ge){var c=Object.assign({},Ge,Object(n.a)({},a,e));qe(c);var i=t.indexOf(c.cardId);z((function(e){return[].concat(Object(r.a)(e.slice(0,i)),[c],Object(r.a)(e.slice(i+1)))}))}}),[Ge,z,t]),wt=Object(N.useCallback)((function(){if(Ge){var e=t.indexOf(Ge.cardId);K((function(t){return[].concat(Object(r.a)(t.slice(0,e)),Object(r.a)(t.slice(e+1)))})),z((function(t){return[].concat(Object(r.a)(t.slice(0,e)),Object(r.a)(t.slice(e+1)))})),It()}}),[Ge,It,K,z,t]),Nt=Object(N.useCallback)((function(){var e={teamCards:t,teamCardsStates:a,teamTotalPower:i};if(nt(),"cloud"===et){if(!X)return;$(X.id,[e]).then((function(){ht({type:"add",payload:e}),Y({deckList:[].concat(Object(r.a)(X.deckList||[]),[e])}),nt()})).catch((function(){ae(G("team_build:error.save_team_failed")),nt()}))}else"local"===et&&(ht({type:"add",payload:e}),nt())}),[$,X,ae,et,G,t,a,i,nt,Y]),Tt=Object(N.useCallback)((function(e){var c={teamCards:t,teamCardsStates:a,teamTotalPower:i};if(nt(),"cloud"===et){if(!X)return;$(X.id,[Object.assign({},c,{id:e})]).then((function(){ht({type:"replace",payload:{id:e,data:c}}),Y({deckList:[].concat(Object(r.a)(X.deckList.slice(0,e)),[c],Object(r.a)(X.deckList.slice(e+1)))}),re(G("team_build:save_team_succeed")),nt()})).catch((function(){ae(G("team_build:error.save_team_failed")),nt()}))}else"local"===et&&(ht({type:"replace",payload:{id:e,data:c}}),re(G("team_build:save_team_succeed")),nt())}),[$,X,ae,re,et,G,t,a,i,nt,Y]),Pt=Object(N.useCallback)((function(e){if(nt(),"cloud"===et){if(!X)return;ee(X.id,[e]).then((function(){ht({type:"remove",payload:e}),Y({deckList:[].concat(Object(r.a)(X.deckList.slice(0,e)),Object(r.a)(X.deckList.slice(e+1)))}),nt()})).catch((function(){ae(G("team_build:error.save_team_failed")),nt()}))}else"local"===et&&(ht({type:"remove",payload:e}),nt())}),[ee,X,ae,et,G,nt,Y]),Rt=Object(N.useCallback)((function(e){var t=ft.teams[e];Object.prototype.hasOwnProperty.call(t.teamCardsStates[0],"story1Unlock")?Object.prototype.hasOwnProperty.call(t.teamCardsStates[0],"trainable")||(t.teamCardsStates=t.teamCardsStates.map((function(e){var t=ie.find((function(t){return t.id===e.cardId}));return Object.assign({},e,{trainable:"rarity_birthday"!==t.cardRarityType&&t.rarity>=3})}))):t.teamCardsStates=t.teamCardsStates.map((function(e){var t=ie.find((function(t){return t.id===e.cardId}));return Object.assign({},e,{masterRank:0,trained:"rarity_birthday"!==t.cardRarityType&&e.level>[0,20,30,50,60][t.rarity],trainable:"rarity_birthday"!==t.cardRarityType&&t.rarity>=3,story1Unlock:!1,story2Unlock:!1})})),K(t.teamCards),z(t.teamCardsStates),F(t.teamTotalPower),Ae(!1)}),[ie,K,z,F,ft]),Lt=Object(N.useCallback)((function(e){var t=Oe(e||a);return ot&&X&&X.sekaiUserProfile?t+je(e||a,X.sekaiUserProfile.userAreaItems)+me(X.sekaiUserProfile.userCharacters,e||a)+be(X.sekaiUserProfile.userHonors):t}),[je,me,be,Oe,ot,X,a]),Ut=Object(N.useCallback)((function(){if(X&&X.sekaiUserProfile&&ie){var e=Array.from({length:5}).map((function(e,t){return X.sekaiUserProfile.userDecks[0]["member".concat(t+1)]})),t=e.map((function(e){var t=X.sekaiUserProfile.userCards.find((function(t){return t.cardId===e})),a=ie.find((function(t){return t.id===e})),r="rarity_birthday"!==a.cardRarityType&&a.rarity>=3;return{cardId:e,level:t.level,masterRank:t.masterRank,trained:r&&"done"===t.specialTrainingStatus,trainable:r,skillLevel:1,story1Unlock:"unreleased"!==t.episodes[0].scenarioStatus,story2Unlock:"unreleased"!==t.episodes[1].scenarioStatus}}));K(e),z(t),F(Lt(t)),Ae(!1)}}),[Lt,ie,X,K,z,F]);return Object(W.jsxs)(l.a,{container:!0,spacing:2,children:[Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsxs)(l.a,{container:!0,spacing:1,children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){return ze(!0)},disabled:5===t.length,children:G("music_recommend:buildTeam.addCard")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){return Je(!0)},disabled:0===t.length,children:G("music_recommend:buildTeam.saveTeam")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){return Ae(!0)},disabled:!ie||0===ie.length,children:G("music_recommend:buildTeam.loadTeam")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"secondary",onClick:function(){K([]),z([])},disabled:0===t.length,children:G("music_recommend:buildTeam.clearTeam")})})]})}),Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsx)(l.a,{container:!0,spacing:1,justify:"center",children:t.map((function(e,t){return Object(W.jsx)(l.a,{item:!0,xs:4,md:2,children:Object(W.jsx)(L.b,{cardId:e,trained:a[t].trained,level:a[t].level,masterRank:a[t].masterRank,style:{cursor:"pointer"},onClick:function(e){return Ct(e,a[t])}})},"team-card-".concat(e))}))})}),Object(W.jsx)(l.a,{item:!0,xs:12,children:t.length>0&&Object(W.jsxs)(l.a,{container:!0,spacing:1,alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(s.a,{label:G("music_recommend:buildTeam.teamPower"),type:"number",InputLabelProps:{shrink:!0},value:i,onChange:function(e){return F(Number(e.target.value))}})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){return F(Lt())},children:G("team_build:button.calc_total_power")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(d.a,{control:Object(W.jsx)(u.a,{checked:ot}),onChange:function(){return st()},label:G("team_build:auto_calc_bonus"),disabled:!X||!X.sekaiUserProfile})})]})}),Object(W.jsxs)(j.a,{open:Ke,onClose:function(){return ze(!1)},children:[Object(W.jsx)(m.a,{children:G("music_recommend:addCardDialog.title")}),Object(W.jsxs)(b.a,{children:[Object(W.jsxs)(l.a,{container:!0,spacing:1,alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsxs)(O.a,{style:{minWidth:200},children:[Object(W.jsx)(f.a,{id:"add-card-dialog-select-chara-label",children:G("common:character")}),Object(W.jsxs)(h.a,{labelId:"add-card-dialog-select-chara-label",value:pe,onChange:function(e){return xe(e.target.value)},children:[Object(W.jsx)(p.a,{value:0,children:G("common:all")}),oe&&oe.map((function(e){return Object(W.jsx)(p.a,{value:e.id,children:q(e.id)},"chara-select-item-".concat(e.id))}))]})]})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsxs)(O.a,{style:{minWidth:120},children:[Object(W.jsx)(f.a,{id:"add-card-dialog-select-rarity-label",children:G("common:rarity")}),Object(W.jsxs)(h.a,{labelId:"add-card-dialog-select-rarity-label",value:ve,onChange:function(e){return ke(e.target.value)},children:[Object(W.jsx)(p.a,{value:0,children:G("common:all")},"rarity-select-item-0"),Array.from({length:4}).map((function(e,t){return Object(W.jsx)(p.a,{value:t+1,children:t+1>=3?Array.from({length:t+1}).map((function(e,t){return Object(W.jsx)("img",{className:H["rarity-star-img"],src:J.a,alt:"star-".concat(t)},"star-".concat(t))})):Array.from({length:t+1}).map((function(e,t){return Object(W.jsx)("img",{className:H["rarity-star-img"],src:U.a,alt:"star-".concat(t)},"star-".concat(t))}))},"rarity-select-item-".concat(t+1))}))]})]})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsxs)(O.a,{style:{minWidth:60},children:[Object(W.jsx)(f.a,{id:"add-card-dialog-select-attr-label",children:G("common:attribute")}),Object(W.jsxs)(h.a,{labelId:"add-card-dialog-select-attr-label",value:Ie,onChange:function(e){return _e(e.target.value)},children:[Object(W.jsx)(p.a,{value:"all",children:G("common:all")},"attr-select-item-0"),["cute","mysterious","cool","happy","pure"].map((function(e){return Object(W.jsx)(p.a,{value:e,children:Object(W.jsx)("img",{className:H["rarity-star-img"],src:A.c[e],alt:"attr-".concat(e)},"attr-".concat(e))},"attr-select-item-".concat(e))}))]})]})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsxs)(O.a,{style:{minWidth:200},children:[Object(W.jsx)(f.a,{id:"add-card-dialog-select-skill-label",children:G("card:skillName")}),Object(W.jsxs)(h.a,{labelId:"add-card-dialog-select-skill-label",value:jt,onChange:function(e){return mt(e.target.value)},children:[Object(W.jsx)(p.a,{value:"any",children:G("common:all")}),ce.map((function(e,t){var a=e.name,r=e.descriptionSpriteName;return Object(W.jsx)(p.a,{value:r,children:a},"skill-select-item-".concat(t+1))}))]})]})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:function(){return kt()},children:G("common:search")})})]}),!!Te.length&&Object(W.jsx)(l.a,{container:!0,spacing:1,children:Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(d.a,{control:Object(W.jsx)(u.a,{checked:Xe,onChange:function(e,t){return Ye(t)}}),label:G("team_build:use_sekai_card_state"),disabled:!X||!X.cardList||!X.cardList.length})})}),Object(W.jsx)(l.a,{container:!0,direction:"row",spacing:1,children:Te.map((function(e){return Object(W.jsx)(l.a,{item:!0,xs:4,md:3,lg:2,children:Object(W.jsx)(L.a,{cardId:e.id,onClick:function(){return St(e)},style:{cursor:"pointer"}})},"filtered-card-".concat(e.id))}))})]})]}),Object(W.jsxs)(j.a,{open:Ue,onClose:function(){return Je(!1)},maxWidth:"md",children:[Object(W.jsx)(m.a,{children:G("team_build:saveTeamDialog.title")}),Object(W.jsxs)(b.a,{children:[Object(W.jsx)(x.a,{children:G("team_build:saveTeamDialog.desc")}),Object(W.jsxs)(O.a,{component:"fieldset",children:[Object(W.jsx)(g.a,{component:"legend",children:G("team_build:storage_location.label")}),Object(W.jsxs)(y.a,{row:!0,value:et,onChange:function(e,t){return tt(t)},children:[Object(W.jsx)(d.a,{value:"local",control:Object(W.jsx)(v.a,{}),label:G("team_build:storage_location.local"),labelPlacement:"end"}),Object(W.jsx)(d.a,{value:"cloud",control:Object(W.jsx)(v.a,{}),label:G("team_build:storage_location.cloud"),labelPlacement:"end",disabled:!X})]})]}),"cloud"===et&&Object(W.jsxs)(x.a,{children:[G("team_build:storage_space"),": ",ft.teams.length," /"," ",X.maxDeckList]}),Object(W.jsxs)(l.a,{container:!0,spacing:1,children:[ft.teams.map((function(e,t){return Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsx)(k.a,{variant:"outlined",className:H["dialog-paper"],children:Object(W.jsxs)(l.a,{container:!0,spacing:1,alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,xs:12,md:2,children:Object(W.jsxs)(S.a,{children:["# ",t+1]})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(l.a,{container:!0,spacing:1,children:e.teamCards.map((function(e){return Object(W.jsx)(l.a,{item:!0,xs:4,sm:2,children:Object(W.jsx)(L.a,{cardId:e})},"save-team-card-".concat(e))}))})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:4,children:Object(W.jsxs)(l.a,{container:!0,spacing:1,justify:"flex-end",children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"outlined",onClick:function(){return Tt(t)},disabled:ct,children:G("common:replace")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"outlined",onClick:function(){return Pt(t)},color:"secondary",disabled:ct,children:G("common:delete")})})]})})]})})},"save-team-".concat(t))})),0===ft.teams.length?Object(W.jsx)(S.a,{children:G("team_build:noTeams")}):null]})]}),Object(W.jsxs)(C.a,{children:[ct&&Object(W.jsx)(I.a,{size:24}),Object(W.jsx)(o.a,{variant:"contained",color:"primary",onClick:Nt,disabled:ct||"cloud"===et&&ft.teams.length>=X.maxDeckList,children:G("team_build:saveNewEntry")})]})]}),Object(W.jsxs)(j.a,{open:Me,onClose:function(){return Ae(!1)},maxWidth:"md",children:[Object(W.jsx)(m.a,{children:G("team_build:loadTeamDialog.title")}),Object(W.jsxs)(b.a,{children:[Object(W.jsx)(x.a,{children:G("team_build:loadTeamDialog.desc")}),Object(W.jsx)(x.a,{children:G("user:profile.title.user_deck")}),!!X&&!!X.sekaiUserProfile&&Object(W.jsx)(l.a,{container:!0,spacing:1,children:Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsx)(k.a,{variant:"outlined",className:H["dialog-paper"],children:Object(W.jsxs)(l.a,{container:!0,spacing:1,alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(W.jsx)(S.a,{children:G("user:profile.title.user_deck")})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(l.a,{container:!0,spacing:1,children:Array.from({length:5}).map((function(e,t){return Object(W.jsx)(l.a,{item:!0,xs:4,sm:2,children:Object(W.jsx)(L.a,{cardId:X.sekaiUserProfile.userDecks[0]["member".concat(t+1)],trained:"done"===X.sekaiUserProfile.userCards[t].specialTrainingStatus})},"load-team-card-".concat(t+1e5))}))})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(W.jsx)(l.a,{container:!0,spacing:1,justify:"flex-end",children:Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"outlined",onClick:function(){return Ut()},children:G("common:load")})})})})]})})})})||null,Object(W.jsx)("br",{}),Object(W.jsxs)(O.a,{component:"fieldset",children:[Object(W.jsx)(g.a,{component:"legend",children:G("team_build:storage_location.label")}),Object(W.jsxs)(y.a,{row:!0,value:et,onChange:function(e,t){return tt(t)},children:[Object(W.jsx)(d.a,{value:"local",control:Object(W.jsx)(v.a,{}),label:G("team_build:storage_location.local"),labelPlacement:"end"}),Object(W.jsx)(d.a,{value:"cloud",control:Object(W.jsx)(v.a,{}),label:G("team_build:storage_location.cloud"),labelPlacement:"end"})]})]}),Object(W.jsxs)(l.a,{container:!0,spacing:1,children:[ft.teams.map((function(e,t){return Object(W.jsx)(l.a,{item:!0,xs:12,children:Object(W.jsx)(k.a,{variant:"outlined",className:H["dialog-paper"],children:Object(W.jsxs)(l.a,{container:!0,spacing:1,alignItems:"center",children:[Object(W.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(W.jsxs)(S.a,{children:["# ",t+1]})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:6,children:Object(W.jsx)(l.a,{container:!0,spacing:1,children:e.teamCards.map((function(t){return Object(W.jsx)(l.a,{item:!0,xs:4,sm:2,children:Object(W.jsx)(L.a,{cardId:t,trained:e.teamCardsStates[0].trained})},"load-team-card-".concat(t))}))})}),Object(W.jsx)(l.a,{item:!0,xs:12,md:3,children:Object(W.jsxs)(l.a,{container:!0,spacing:1,justify:"flex-end",children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"outlined",onClick:function(){return Rt(t)},children:G("common:load")})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"outlined",onClick:function(){return Pt(t)},color:"secondary",children:G("common:delete")})})]})})]})})},"load-team-".concat(t))})),!ft.teams.length&&Object(W.jsx)(S.a,{children:G("team_build:noTeams")})]})]})]}),Object(W.jsx)(_.a,{open:vt,anchorEl:gt,onClose:It,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Ge&&Object(W.jsx)(w.a,{style:{paddingTop:"1em",paddingBottom:"1em"},children:Object(W.jsxs)(l.a,{container:!0,direction:"column",spacing:1,children:[Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(s.a,{label:G("card:cardLevel"),value:Ge.level,type:"number",onChange:function(e){return _t(Number(e.target.value),"level")},inputProps:{min:"1"},fullWidth:!0})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(s.a,{label:G("user:profile.import_card.table.row.card_master_rank"),value:Ge.masterRank,type:"number",onChange:function(e){return _t(Number(e.target.value),"masterRank")},inputProps:{min:"0",max:"5"},fullWidth:!0})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(s.a,{label:G("card:skillLevel"),value:Ge.skillLevel,type:"number",onChange:function(e){return _t(Number(e.target.value),"skillLevel")},inputProps:{min:"1",max:"4"},fullWidth:!0})}),Ge.trainable&&Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(d.a,{control:Object(W.jsx)(u.a,{checked:Ge.trained}),label:G("card:trained"),onChange:function(e,t){return _t(t,"trained")}})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(d.a,{control:Object(W.jsx)(u.a,{checked:Ge.story1Unlock}),label:G("card:sideStory1Unlocked"),onChange:function(e,t){return _t(t,"story1Unlock")}})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(d.a,{control:Object(W.jsx)(u.a,{checked:Ge.story2Unlock}),label:G("card:sideStory2Unlocked"),onChange:function(e,t){return _t(t,"story2Unlock")}})}),Object(W.jsx)(l.a,{item:!0,children:Object(W.jsx)(o.a,{variant:"contained",color:"secondary",onClick:function(){return wt()},children:G("common:delete")})})]})})})]})}}}]);