(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[65,5],{303:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(234),a=Object(n.a)((function(t){return{header:{fontWeight:"bold"},content:{marginTop:t.spacing(3),marginBottom:t.spacing(3),marginLeft:"auto",marginRight:"auto"},alert:{margin:t.spacing(1,0)},bold:{fontWeight:t.typography.fontWeightBold},capitalize:{textTransform:"capitalize"},tabpanel:{padding:t.spacing("1%",0,0,0)},"grid-out":{padding:t.spacing("1%","0")}}}))},309:function(t,e,r){"use strict";r.d(e,"f",(function(){return f})),r.d(e,"e",(function(){return m})),r.d(e,"a",(function(){return j})),r.d(e,"b",(function(){return h})),r.d(e,"c",(function(){return g})),r.d(e,"d",(function(){return O}));var n=r(8),a=r(24),s=r(9),c=r.n(s),u=r(25),o=r(46),i=r.n(o),p=r(0),l=r(97),b=r(48);function f(t){var e=Object(p.useRef)(t),r=Object(p.useMemo)((function(){var t=i.a.create({baseURL:"https://strapi.sekai.best"});return t.interceptors.request.use((function(t){return e.current&&(t.headers.authorization="Bearer ".concat(e.current)),t})),t.interceptors.response.use((function(t){return t}),(function(t){throw 401===t.response.status?e.current="":t.response.data.message&&500!==t.response.status?t.id=t.response.data.message[0].messages[0].id:500===t.response.status?(t.id=t.response.data.error,t.message=t.response.data.message):t.id=t.message,t})),t}),[e]);return{postLoginLocal:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/auth/local",e);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postRegisterLocal:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/auth/local/register",e);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getRedirectConnectLoginUrl:Object(p.useCallback)((function(t){return"".concat(r.getUri({url:"".concat("https://strapi.sekai.best","/connect/").concat(t)}))}),[r]),getConnectCallback:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/auth/".concat(e,"/callback").concat(n));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),getUserMe:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/users/me",e?{headers:{authorization:"Bearer ".concat(e)}}:{});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postUpload:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/upload",e,{headers:Object.assign({"Content-Type":"multipart/form-data"},n?{authorization:"Bearer ".concat(n)}:{})});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),putUserMetadataMe:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.put("/user-metadata/me",Object.assign({},e,e.languages?{languages:e.languages.map((function(t){return t.id}))}:{}));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postForgotPassword:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/auth/forgot-password",{email:e});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postResetPassword:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/auth/reset-password",{code:e,password:n,passwordConfirmation:a});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[r]),getSekaiProfileMe:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/sekai-profiles/me",e?{headers:{authorization:"Bearer ".concat(e)}}:{});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postSekaiProfileVerify:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/sekai-profiles/verify",{userid:e});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postSekaiProfileConfirm:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/sekai-profiles/".concat(e,"/confirm"),{userid:n});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),putSekaiProfileUpdate:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.put("/sekai-profiles/".concat(e,"/update"));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getLanguages:Object(p.useCallback)(Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/languages?_sort=id:ASC");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),[r]),getUserMetadataMe:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/user-metadata/me",e?{headers:{authorization:"Bearer ".concat(e)}}:{});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getSekaiCurrentEvent:Object(p.useCallback)(Object(u.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/sekai-current-event");case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)}))),[r]),getSekaiProfileEventRecordMe:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/sekai-profile-event-records/me",{params:e?{eventId:e}:{}});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),postSekaiProfileEventRecord:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/sekai-profile-event-records/record",{eventId:e});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),putSekaiCardList:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.put("/sekai-profiles/".concat(e,"/cardlist"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),deleteSekaiCardList:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.delete("/sekai-profiles/".concat(e,"/cardlist"),{params:{cards:n}});case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),putSekaiDeckList:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.put("/sekai-profiles/".concat(e,"/decklist"),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),deleteSekaiDeckList:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.delete("/sekai-profiles/".concat(e,"/decklist"),{params:{decks:n}});case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),getAnnouncements:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/announcements?",{params:Object(a.a)({_sort:"isPin:DESC,published_at:DESC"},e||{})});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getAnnouncementById:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/announcements/".concat(e),{params:n});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),getAnnouncementPage:Object(p.useCallback)(Object(u.a)(c.a.mark((function t(){var e,n,s,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:30,n=u.length>1&&void 0!==u[1]?u[1]:0,s=u.length>2?u[2]:void 0,t.next=5,r.get("/announcements",{params:Object(a.a)({_limit:e,_start:n*e,_sort:"isPin:DESC,published_at:DESC"},s||{})});case 5:return t.abrupt("return",t.sent.data);case 6:case"end":return t.stop()}}),t)}))),[r]),getAnnouncementCount:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Number,t.next=3,r.get("/announcements/count",{params:e});case 3:return t.t1=t.sent.data,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getAnnouncementByLanguagesPage:Object(p.useCallback)(Object(u.a)(c.a.mark((function t(){var e,n,s,u,o=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:30,n=o.length>1&&void 0!==o[1]?o[1]:0,s=o.length>2?o[2]:void 0,u=o.length>3?o[3]:void 0,t.next=6,r.get("/announcements/language",{params:Object(a.a)({_limit:e,_start:n*e,_sort:"isPin:DESC,published_at:DESC",targetLangs:s},u||{})});case 6:return t.abrupt("return",t.sent.data);case 7:case"end":return t.stop()}}),t)}))),[r]),getAnnouncementByLanguagesCount:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Number,t.next=3,r.get("/announcements/language/count",{params:{targetLangs:e}});case 3:return t.t1=t.sent.data,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getComments:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/comments/".concat(e,":").concat(n));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),postComment:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a,s,u){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/comments/".concat(e,":").concat(n),{authorUser:a,authorAvatar:s?s.url:null,content:u,related:[{refId:n,ref:e,field:"comments"}]});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n,a,s){return t.apply(this,arguments)}}(),[r]),getUserProfile:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/user-metadata/profile/user/".concat(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),patchCommentLike:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.patch("/comments/".concat(e,":").concat(n,"/comment/").concat(a,"/like"));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[r]),postCommentAbuse:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a,s,u){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/comments/".concat(e,":").concat(n,"/comment/").concat(a,"/report-abuse"),{reason:s,content:u});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n,a,s){return t.apply(this,arguments)}}(),[r]),getTranslations:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,s){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/translations",{params:Object(a.a)({_limit:n,_start:e*n},s||{})});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[r]),getTranslationById:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/translations/".concat(e));case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getTranslationBySlug:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/translations/slug/".concat(n,"/").concat(e),{params:a});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[r]),postTranslation:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n,a,s,u){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.post("/translations",{user:e.id,sourceSlug:n,sourceLang:a,target:s,targetLang:u});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r,n,a,s){return t.apply(this,arguments)}}(),[r]),putTranslationId:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.put("/translations/".concat(e),n);case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[r]),getTranslationCount:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/translations/count",{params:e});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getTranslationBySourceSlug:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/translations",{params:{sourceSlug:e}});case 2:return t.abrupt("return",t.sent.data[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getMusic:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/musics",{params:{musicId:e,_limit:1}});case 2:return t.abrupt("return",t.sent.data[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getCard:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/cards",{params:{cardId:e,_limit:1}});case 2:return t.abrupt("return",t.sent.data[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getEvent:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/events",{params:{eventId:e,_limit:1}});case 2:return t.abrupt("return",t.sent.data[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r]),getVirtualLive:Object(p.useCallback)(function(){var t=Object(u.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.get("/virtual-lives",{params:{virtualLiveId:e,_limit:1}});case 2:return t.abrupt("return",t.sent.data[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[r])}}var d=function(){var t=Object(u.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(e,{params:r});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();function m(){var t=Object(p.useMemo)((function(){return{_sort:"id:ASC"}}),[]),e=Object(l.a)(["".concat("https://strapi.sekai.best","/languages"),t],d),r=e.data,n=e.error;return{languages:r,isLoading:!n&&!r,error:n}}function j(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=Object(p.useMemo)((function(){return Object(a.a)({_limit:e,_start:t*e,_sort:"isPin:DESC,published_at:DESC",targetLangs:r},n||{})}),[r,e,t,n]),c=Object(l.a)(["".concat("https://strapi.sekai.best","/announcements/language"),s],d),u=c.data,o=c.error;return{announcements:u,isLoading:!o&&!u,error:o}}function h(){var t=Object(b.n)(),e=Object(n.a)(t,1)[0],r=Object(l.a)("".concat("https://strapi.sekai.best","/sekai-current-event").concat("tw"===e?"-tw":""),d),a=r.data,s=r.error;return{currEvent:a,isLoading:!s&&!a,error:s}}function g(){var t=Object(l.a)("".concat(window.isChinaMainland?"https://minio.dnaroma.eu/sekai-best-assets":"".concat("https://minio.dnaroma.eu","/sekai-best-assets"),"/models.json"),d),e=t.data,r=t.error;return{modelList:e,isLoading:!r&&!e,error:r}}function O(t){var e=Object(p.useMemo)((function(){return{tier:t}}),[t]),r=Object(l.a)(["".concat("https://strapi.sekai.best","/patrons"),e],d),n=r.data,a=r.error;return{patrons:n,isLoading:!a&&!n,error:a}}},312:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(7),a=r(234),s=Object(a.a)((function(t){return{container:{margin:t.spacing(1,0),padding:t.spacing(1,2)},caption:Object(n.a)({},t.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(n.a)({},t.breakpoints.up("md"),{paddingRight:t.spacing(5)}),inputHidden:{display:"none"},noDecorationAlsoOnHover:{textDecoration:"none","&:hover":{textDecoration:"none"},color:"inherit"},noDecoration:{textDecoration:"none","&:hover":{textDecoration:"underline"},color:"inherit"},pointer:{cursor:"pointer"}}}))},948:function(t,e,r){"use strict";r.r(e);var n=r(9),a=r.n(n),s=r(25),c=r(8),u=r(89),o=r(295),i=r(296),p=r(521),l=r(614),b=r(490),f=r(294),d=r(135),m=r(316),j=r(291),h=r(949),g=r(947),O=r(378),v=r(458),k=r(0),x=r(213),w=r(17),C=r(41),y=r(679),S=r.n(y),L=r(312),P=r(303),_=r(309),A=r(114),D=r(37),E=r(1);e.default=function(){var t=Object(P.a)(),e=Object(L.a)(),r=Object(x.a)().t,n=Object(A.a)(),y=Object(w.g)(),I=Object(k.useContext)(D.a).languages,M=Object(_.f)().postRegisterLocal,B=Object(k.useState)(0),T=Object(c.a)(B,2),U=T[0],z=T[1];Object(k.useEffect)((function(){document.title=r("title:signup")}),[r]);var R=Object(k.useCallback)((function(t){var e={};return t.username||(e.username=r("auth:error.required")),t.password?t.password.length<6?e.password=r("auth:error.passwordTooShort"):U<3&&(e.password=r("auth:error.passwordStrength")):e.password=r("auth:error.required"),t.confirmPassword?t.confirmPassword!==t.password&&(e.confirmPassword=r("auth:error.confirmPasswordMismatch")):e.confirmPassword=r("auth:error.required"),t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email=r("auth:error.emailInvalid")):e.email=r("auth:error.required"),e}),[U,r]);return Object(E.jsxs)(k.Fragment,{children:[Object(E.jsx)(u.a,{variant:"h6",className:t.header,children:r("common:signup")}),Object(E.jsx)(o.a,{className:t.content,maxWidth:"md",children:Object(E.jsx)(O.c,{initialValues:{username:"",email:"",password:"",confirmPassword:"",languages:[]},validate:R,onSubmit:function(){var t=Object(s.a)(a.a.mark((function t(e,s){var c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s.setErrors,t.prev=1,t.next=4,M(e);case 4:u=t.sent,n.user=u.user,y.push("/user/confirmation"),localStorage.setItem("lastUserCheck",String((new Date).getTime())),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),"Auth.form.error.email.taken"===t.t0.id?c({email:r("auth:error.email_taken")}):"Auth.form.error.username.taken"===t.t0.id&&c({username:r("auth:error.usernameTaken")});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),children:function(t){var n=t.submitForm,a=t.isSubmitting,s=t.dirty,c=t.isValid,o=t.values;return Object(E.jsx)(i.a,{container:!0,justify:"center",children:Object(E.jsx)(i.a,{item:!0,children:Object(E.jsxs)(O.b,{children:[Object(E.jsx)(O.a,{component:v.b,name:"username",type:"text",label:r("auth:signup.label.username"),InputProps:{startAdornment:Object(E.jsx)(p.a,{position:"start",children:Object(E.jsx)(j.a,{})})}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{component:v.b,name:"email",type:"email",label:r("auth:signup.label.email"),InputProps:{startAdornment:Object(E.jsx)(p.a,{position:"start",children:Object(E.jsx)(h.a,{})})}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{component:v.b,name:"password",type:"password",label:r("auth:signup.label.password"),InputProps:{startAdornment:Object(E.jsx)(p.a,{position:"start",children:Object(E.jsx)(g.a,{})})}}),Object(E.jsx)("br",{}),Object(E.jsx)(S.a,{password:o.password,minLength:6,onChangeScore:function(t){return z(t)},scoreWords:[r("auth:password.too_weak"),r("auth:password.weak"),r("auth:password.okay"),r("auth:password.good"),r("auth:password.strong")],shortScoreWord:r("auth:password.too_short")}),Object(E.jsx)("br",{}),Object(E.jsx)(O.a,{component:v.b,name:"confirmPassword",type:"password",label:r("auth:signup.label.confirm_password"),InputProps:{startAdornment:Object(E.jsx)(p.a,{position:"start",children:Object(E.jsx)(g.a,{})})}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsxs)(l.a,{children:[Object(E.jsx)(b.a,{shrink:!0,htmlFor:"language-select",children:r("auth:signup.label.prefer_langs")}),Object(E.jsx)(O.a,{component:v.a,type:"text",name:"languages",inputProps:{name:"languages",id:"language-select",multiple:!0},style:{width:210},children:I.filter((function(t){return t.enabled})).map((function(t){return Object(E.jsx)(f.a,{value:t.id,children:t.name},"lang-".concat(t.code))}))})]}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(C.b,{to:"/user/login",className:e.noDecoration,children:Object(E.jsx)(u.a,{variant:"caption",color:"textPrimary",children:r("auth:already-have-account")})}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{type:"submit",style:{display:"none"}}),Object(E.jsxs)(i.a,{container:!0,alignItems:"center",spacing:1,children:[Object(E.jsx)(i.a,{item:!0,children:Object(E.jsxs)(d.a,{variant:"contained",color:"primary",disabled:a||!s||!c,onClick:n,children:[r("auth:common.signupButton")," "]})}),a&&Object(E.jsx)(i.a,{item:!0,children:Object(E.jsx)(m.a,{size:24})})]})]})})})}})})]})}},949:function(t,e,r){"use strict";var n=r(0),a=r(14);e.a=Object(a.a)(n.createElement("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),"Email")}}]);